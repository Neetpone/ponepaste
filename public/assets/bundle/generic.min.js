function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e,n){for(var a=0;a<n.length;a++){var i=n[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,n){if("object"!==t(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(r,"string"),"symbol"===t(o)?o:String(o)),i)}var r,o}var r,o=function(e){return document.querySelector(e)},l=function(e){return document.querySelectorAll(e)||[]},s=function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild},c=function(e){e.classList.contains("is-hidden")?e.classList.remove("is-hidden"):e.classList.add("is-hidden")},u=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.tags=[],this.options=n,this.maxTags=n.maxTags||32,this.inputNode=null,this.containerNode=null}var t,a,r;return t=e,(a=[{key:"attach",value:function(){var e=this;if(this.element.style.display="none",this.containerNode=s('<div class="tags-input"></div>'),this.inputNode=s('<input class="input" type="text" placeholder="Type a comma to separate each tag..." value="" />'),this.containerNode.appendChild(this.inputNode),this.element.parentNode.insertBefore(this.containerNode,this.element.nextSibling),this.element.value){var t,a=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw o}}}}(this.element.value.split(","));try{for(a.s();!(t=a.n()).done;){var i=t.value;this.addTag(i)}}catch(e){a.e(e)}finally{a.f()}}this.containerNode.addEventListener("keydown",this._handleInputKeyUp.bind(this)),this.containerNode.addEventListener("click",this._handleContainerClick.bind(this)),this.inputNode.addEventListener("focusout",(function(t){e.inputNode.value&&(e.addTag(e.inputNode.value),e.inputNode.value="",e.updateHiddenInputValue())}))}},{key:"detach",value:function(){this.tags.clear(),this.containerNode.remove(),this.element.style.display="inline-block"}},{key:"updateHiddenInputValue",value:function(){this.element.value=this.tags.join(",")}},{key:"deleteTagNode",value:function(e){this.tags.splice(this.tags.indexOf(e.dataset.value.toLowerCase()),1),e.remove(),this.tags.length<this.maxTags&&(this.inputNode.disabled=!1)}},{key:"addTag",value:function(e){""!==(e=e.trim())&&-1===this.tags.indexOf(e.toLowerCase())&&(this.tags.push(e.toLowerCase()),this.inputNode.parentNode.insertBefore(s('<span class="tag is-info" data-value="'+u(e)+'">'+u(e)+'<span class="delete is-small" /></span>'),this.inputNode),this.tags.length>=this.maxTags&&(this.inputNode.disabled=!0))}},{key:"_handleInputKeyUp",value:function(e){var t=this.inputNode.value;"Backspace"===e.key&&""===t?this.inputNode.previousSibling&&(this.deleteTagNode(this.inputNode.previousSibling),this.updateHiddenInputValue()):","===e.key?(this.addTag(t),this.inputNode.value="",this.updateHiddenInputValue(),e.preventDefault()):"Backspace"!==e.key&&t.length>255&&e.preventDefault()}},{key:"_handleContainerClick",value:function(e){e.target&&e.target.classList.contains("delete")&&(this.deleteTagNode(e.target.closest(".tag")),this.updateHiddenInputValue())}}])&&i(t.prototype,a),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();r=function(){var t;Array.prototype.forEach.call(l(".js-tag-input"),(function(e){new d(e).attach()})),(t=o('[data-target~="#signin"],[data-target~="#signup"]'))&&(t.href="javascript:void(0)",t.addEventListener("click",(function(){o(".modal").classList.add("is-active")})),o(".modal-button-close").addEventListener("click",(function(){o(".modal").classList.remove("is-active")})));var n=o(".panel-tools .embed-tool");n&&n.addEventListener("click",(function(e){e.target&&e.target.closest(".panel-tools")&&c(e.target.closest(".panel-tools").querySelector(".panel-embed"))}));var a=o(".expand-tool");a&&a.addEventListener("click",(function(e){if(e.target&&e.target.closest(".panel")){var t=e.target.closest(".panel");t.classList.contains("panel-fullsize")?t.classList.remove("panel-fullsize"):t.classList.add("panel-fullsize")}})),(document.querySelectorAll(".notification .delete")||[]).forEach((function(e){var t=e.parentNode;e.addEventListener("click",(function(){t.parentNode.removeChild(t)}))}));var i=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);i.length>0&&i.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.target,n=document.getElementById(t);e.classList.toggle("is-active"),n.classList.toggle("is-active")}))}));var r=o(".captcha_container");if(r){var s=r.querySelector("a"),u=r.querySelector("img");s&&u&&s.addEventListener("click",(function(){var e=u.src;-1!==e.indexOf("&refresh")?e=e.split("&rand=")[0]:e+="&refresh",u.src=e+"&rand="+Math.random()}))}var f=l(".js-hidden");f&&Array.prototype.forEach.call(f,(function(e){c(e)}));var p=l("[data-encoded-text]");p&&e(p).forEach((function(e){var t,n,a,i;(t=e.dataset.encodedText,n=Uint8Array.from(atob(t),(function(e){return e.charCodeAt(0)})),a=new DecompressionStream("gzip"),i=a.writable.getWriter(),i.write(n),i.close(),new Response(a.readable).arrayBuffer().then((function(e){return(new TextDecoder).decode(e)}))).then((function(t){setTimeout((function(){return e[e.dataset.encodedAttr]=t}),1500)}))}))},"loading"!==document.readyState?r():document.addEventListener("DOMContentLoaded",r);
//# sourceMappingURL=generic.min.js.map
